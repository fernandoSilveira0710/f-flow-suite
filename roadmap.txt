# F-Flow Suite ‚Äî Roadmap de Entrega (MVP ‚ûú SaaS)

> **Regra de ouro:** cada etapa fecha com **crit√©rios de aceite**, **flag de seguran√ßa** e **rollback** simples. S√≥ avan√ßamos quando a etapa anterior estiver verde em PR.

## Status Atual ‚Äî Conclu√≠dos e Pend√™ncias

### Conclu√≠dos (‚úÖ)
- ‚úÖ Etapa 1 ‚Äî Setup de DEV e Padr√µes de Projeto
- ‚úÖ Etapa 2 ‚Äî Hub: Banco + RLS + JWKS
- ‚úÖ Etapa 3 ‚Äî Client-Local Execut√°vel (DB embutido + Servi√ßo SO)
- ‚úÖ Etapa 4 ‚Äî Licenciamento ponta-a-ponta (Ativar, Guardar, Renovar)
- ‚úÖ Etapa 5 ‚Äî Autentica√ß√£o OIDC real + Dupla Valida√ß√£o no Hub
- ‚úÖ Etapas 6.8, 6.9 e 6.10 ‚Äî Configura√ß√µes/Dashboard, Integra√ß√£o & Sa√∫de, Documenta√ß√£o & Flags
- ‚úÖ Etapa 10 ‚Äî Site Institucional + Postman E2E + Releases/Auto-update

### Pend√™ncias
- Etapa 1: fechar "Lint e typecheck OK" nos 3 pacotes (corrigir pequenos erros de TypeScript no Hub)
- Etapa 6 ‚Äî POS/Inventory MVP + Espelho b√°sico no Hub:
  - 6.1 Modelagem e Migrations: revisar entidades e aplicar RLS nas novas tabelas
  - 6.2 CRUD de Produtos e Estoque: endpoints, ajustes de estoque e eventos `event.product.*`
    - ‚úÖ Hub: `EventsService.createEvent` unificado para produtos (Outbox normalizado)
    - ‚úÖ Hub: modelo `InventoryAdjustment` criado e migrado
    - ‚è≥ Client-local: endpoints e ajuste de estoque
  - 6.3 CRUD de Vendas/PDV: endpoints, c√°lculo de totais e evento `event.sale.created.v1`
    - ‚úÖ Hub: emiss√£o de eventos `sale.created.v1` e `sale.updated.v1` ap√≥s create/update
    - ‚è≥ Client-local: c√°lculo autom√°tico de totais e endpoints completos
  - 6.4 Clientes (Tutores) e Pets: CRUD e eventos `event.customer.*` e `event.pet.*`
  - 6.5 Servi√ßos e Profissionais: CRUD e eventos de sync
  - 6.6 Agenda, Check‚Äëin e Recursos: CRUD, check‚Äëin/out e eventos `event.appointment.*` e `event.checkin.*`
    - ‚úÖ Hub: gera√ß√£o de eventos padronizada via `EventsService.createEvent` (appointments, check-ins e resources)
  - 6.7 Grooming (Banho e tosa): tickets, itens, status e espelho no Hub
- Etapa 7 ‚Äî Sync Agent (Outbox/Inbox, Idempot√™ncia, Backoff, DLQ): implementar Outbox/Inboux, scheduler, schemas versionados e DLQ
- Etapa 8 ‚Äî Pagamentos M√≠nimo Vi√°vel + Concilia√ß√£o: m√≥dulo `payments`, concilia√ß√£o no Hub e valida√ß√£o de schemas
- Etapa 9 ‚Äî Frontend Integrado ao Client-Local + Status de Sync: trocar mocks por client-local, UI de status e integra√ß√£o CRUD via React Query

## Etapa 1 ‚Äî Setup de DEV e Padr√µes de Projeto ‚úÖ

**Objetivo:** time ligar o projeto em 1 comando e alinhar padr√µes (lint, testes, branch/PR).
**Escopo**

* ‚úÖ Adicionar `docker-compose.yml` (apenas DEV) com `postgres + adminer + hub`.
* ‚úÖ Criar `hub/.env.example` e `client-local/.env.example`.
* ‚úÖ Scripts `npm run dev:up` / `dev:down` (ou `make`).
* ‚úÖ Padronizar ESLint/Prettier/EditorConfig nos 3 pacotes.
* ‚úÖ Definir conven√ß√µes: `feat/`, `fix/`, `chore/`, `docs/` + PR template.
  **Flags**
* ‚úÖ `DEV_COMPOSE_ENABLED=true` (apenas dev).
  **Aceite**
* ‚úÖ `docker compose up -d` sobe Hub + DB e `GET /health` OK.
* ‚ö†Ô∏è Lint e typecheck OK nos 3 pacotes (pequenos erros de TypeScript no Hub).
  **Rollback**
* ‚úÖ Remover compose e `.env` se der ruim (n√£o afeta prod).

---

## Etapa 2 ‚Äî Hub: Banco + RLS + JWKS ‚úÖ

**Objetivo:** seguran√ßa por tenant e chave p√∫blica para licen√ßa.
**Escopo**

* ‚úÖ Rodar migrations Prisma do Hub; aplicar `sql/002-rls-policies.sql`.
* ‚úÖ Middleware global exigindo `x-tenant-id` (ou derivado do usu√°rio).
* ‚úÖ Expor `GET /.well-known/jwks.json` com a key p√∫blica (RS256).
* ‚úÖ Tests de integra√ß√£o: dois tenants isolados (0 vazamento).
  **Flags**
* ‚úÖ `RLS_ENFORCED=true`.
  **Aceite**
* ‚úÖ Sem `x-tenant-id` ‚Üí 403; com tenant errado ‚Üí 200 + **0 linhas**.
* ‚úÖ `/.well-known/jwks.json` servindo JWKS v√°lido.
  **Rollback**
* ‚úÖ Desligar `RLS_ENFORCED` (s√≥ DEV) at√© corrigir.

---

## Etapa 3 ‚Äî Client-Local Execut√°vel (DB embutido + Servi√ßo SO) ‚úÖ

**Objetivo:** cliente clica e usa. Bin√°rio √∫nico sobe server e DB local.
**Escopo**

* ‚úÖ Empacotar `client-local` com **pkg**/**nexe** (Win/Mac/Linux).
* ‚úÖ Bootstrap: resolve pastas por SO ‚Üí roda migrations ‚Üí sobe HTTP `127.0.0.1:8081`.
* ‚úÖ Servi√ßo do SO: Windows Service / launchd / systemd (scripts b√°sicos).
* ‚úÖ Logs estruturados (JSON) com rota√ß√£o.
  **Flags**
* ‚úÖ `LOCAL_SERVER_ENABLED=true`.
  **Aceite**
* ‚úÖ Primeira execu√ß√£o cria DB e responde `GET /health`.
* ‚úÖ Servi√ßo inicializa com o sistema (Windows validado).
  **Rollback**
* ‚úÖ Parar servi√ßo e usar `npm run start:dev` (DEV only).

---

## Etapa 4 ‚Äî Licenciamento ponta-a-ponta (Ativar, Guardar, Renovar) ‚úÖ

**Objetivo:** ativar licen√ßa com o Hub, validar RS256 e operar offline com grace.
**Escopo**

* ‚úÖ Hub: `POST /licenses/activate` assina **JWT RS256** com `LICENSE_PRIVATE_KEY_PEM`.
* ‚úÖ Client-local: `POST /licensing/activate` (usado pelo front), guarda token no **DPAPI/Keychain/Keyring**, agenda **renova√ß√£o** autom√°tica.
* ‚úÖ `GET /install/status` para o front saber se precisa de setup.
* ‚úÖ Pol√≠tica **offline grace** (ex.: 7 dias).
* ‚úÖ `LicensingGuard` implementado para proteger rotas de neg√≥cio.
* ‚úÖ Testes unit√°rios e e2e implementados.
* ‚úÖ Documenta√ß√£o completa no README.md.
* ‚úÖ **Sistema de Planos Integrado**: Frontend ERP com painel de billing completo.
* ‚úÖ **Sincroniza√ß√£o de Planos**: Client-local sincroniza mudan√ßas de plano com Hub.
* ‚úÖ **Valida√ß√£o SQLite**: Sistema totalmente funcional com banco SQLite local.
* ‚úÖ **Entitlements Din√¢micos**: Recursos habilitados/desabilitados baseados no plano ativo.
  **Flags**
* ‚úÖ `LICENSING_ENFORCED=true` (em dev pode ser false).
  **Aceite**
* ‚úÖ Wizard de ativa√ß√£o funciona; servi√ßo reinicia offline e continua dentro do grace.
* ‚úÖ Sistema suporta modo desenvolvimento e produ√ß√£o.
* ‚úÖ Endpoints `/licensing/activate`, `/licensing/install/status`, `/licensing/license` funcionais.
* ‚úÖ Verifica√ß√£o JWT RS256 com chave p√∫blica.
* ‚úÖ Armazenamento seguro de tokens.
* ‚úÖ Renova√ß√£o autom√°tica de licen√ßas.
* ‚úÖ **Painel de Billing**: Interface completa em `/erp/settings/billing` com planos, hist√≥rico e upgrade.
* ‚úÖ **Sincroniza√ß√£o de Planos**: Mudan√ßas de plano refletem imediatamente no sistema.
* ‚úÖ **Teste de Integra√ß√£o**: Sistema validado com SQLite, Hub e Client-local funcionando em conjunto.
  **Rollback**
* ‚úÖ Setar `LICENSING_ENFORCED=false` (DEV) enquanto corrige.

**Como testar:**
1. **Prepara√ß√£o**: 
   ```bash
   cd client-local
   npm install
   cp .env.example .env
   ```
2. **Modo Desenvolvimento**: 
   ```bash
   # Editar .env: LICENSING_ENFORCED=false
   npm run start:dev
   ```
3. **Ativa√ß√£o Manual**: 
   ```bash
curl -X POST http://localhost:8081/licensing/activate \
     -H "Content-Type: application/json" \
     -d '{"tenantId": "test-tenant", "deviceId": "test-device"}'
   ```
4. **Verificar Status**: `curl http://localhost:8081/licensing/install/status`
5. **Modo Offline**: Desconectar rede e verificar grace period
6. **Testes**: `npm test` e `npm run test:e2e`

## Instru√ß√µes de Teste do Sistema de Licenciamento

### 1. Prepara√ß√£o
```bash
cd client-local
npm install
cp .env.example .env
```

### 2. Configura√ß√£o para Desenvolvimento
```bash
# Editar .env:
LICENSING_ENFORCED=false
```

### 3. Iniciar o Servi√ßo
```bash
npm run start:dev
```

### 4. Testar Endpoints (PowerShell)‚úÖ
```powershell
# Status da instala√ß√£o
Invoke-RestMethod -Uri "http://localhost:8081/licensing/install/status" -Method GET

# Ativa√ß√£o manual
Invoke-RestMethod -Uri "http://localhost:8081/licensing/activate" -Method POST -ContentType "application/json" -Body '{"tenantId": "test-tenant", "deviceId": "test-device"}'

# Verificar licen√ßa
Invoke-RestMethod -Uri "http://localhost:8081/licensing/license" -Method GET
```

### 5. Verificar Status
- Status: `development`
- Plan: `development` 
- NeedsSetup: `false`

### 6. Testar Modo Offline
1. Ativar licen√ßa v√°lida
2. Desconectar internet
3. Reiniciar servi√ßo
4. Verificar funcionamento (grace period: 7 dias)

### 7. Executar Testes
```bash
# Unit√°rios (alguns falham em modo dev)
npm test

# E2E
npm run test:e2e

# Cobertura
npm run test:cov
```

### 8. Resultados Esperados

**Status (Dev Mode):**
```json
{
  "needsSetup": false,
  "status": "development",
  "plan": "development"
}
```

**Ativa√ß√£o (Dev Mode):**
```json
{
  "status": "activated",
  "message": "Licensing not enforced in development mode"
}
```

**Licen√ßa (Dev Mode):**
```json
{
  "tid": "dev-tenant",
  "did": "00000000-0000-0000-0000-000000000000",
  "plan": "enterprise",
  "ent": ["POS", "INVENTORY", "GROOMING", "ANALYTICS"],
  "exp": 1759582419,
  "grace": 7,
  "iat": 1759496019,
  "iss": "dev-mode",
  "status": "development"
}
```

---

## Etapa 5 ‚Äî Autentica√ß√£o OIDC real + Dupla Valida√ß√£o no Hub ‚úÖ

**Objetivo:** proteger Hub com IdP (Auth0/Keycloak/Cognito) **e** validar licen√ßa pr√≥pria.
**Escopo**

* Guard OIDC no Hub (`aud/iss/exp` via JWKS do IdP).
* License Guard nas rotas sens√≠veis (valida JWT de licen√ßa do cliente).
* Vari√°veis `.env`: `OIDC_JWKS_URL`, `OIDC_AUDIENCE`, `OIDC_ISSUER`.
  **Flags**
* `OIDC_REQUIRED=true` (em dev pode ser false pra smoke).
  **Aceite**
* Sem OIDC ‚Üí 401; com OIDC e sem licen√ßa ‚Üí 403; com ambos ‚Üí 200.
  **Rollback**
* `OIDC_REQUIRED=false` e/ou bypass licen√ßas **s√≥ em DEV**.

---

## Etapa 6 ‚Äî POS/Inventory MVP no Client-Local + Espelho b√°sico no Hub

**Objetivo:** rodar o fluxo core no execut√°vel (sem quebrar nada) e preparar espelho no Hub.
**Escopo**

* Client-local: CRUD **Produtos**, **Estoque**, **Vendas** com Prisma.
* Eventos locais m√≠nimos: `event.product.upserted.v1`, `event.sale.created.v1`.
* Hub: endpoints de ingest ou leitura para espelhamento por tenant (simples).
* Health de depend√™ncias: DB local OK e Hub reachable (quando online).
  **Flags**
* `MVP_POS_ENABLED=true`.
  **Aceite**
* CRUD local persistindo no SQLite/SQLCipher e APIs respondendo 200.
* Schemas JSON validados por Ajv localmente.
  **Rollback**
* `MVP_POS_ENABLED=false` volta ao estado anterior.

Modelagem e Migrations (6.1)

Definir todas as entidades no schema Prisma do client‚Äëlocal e do Hub. Exemplos de modelos:

Product: id, tenantId, sku, name, description, salePrice, costPrice, stockQty, createdAt, updatedAt;

Sale / SaleItem: id, tenantId, code, date, operator, total, paymentMethod, createdAt, updatedAt; itens: productId, qty, unitPrice;

InventoryAdjustment: id, tenantId, productId, delta, reason, createdAt;

Customer (Tutor): id, tenantId, name, phone, email, createdAt, updatedAt;

Pet: id, tenantId, tutorId, name, species, breed, weight, birthDate, createdAt, updatedAt;

Service: id, tenantId, name, description, price, duration, createdAt, updatedAt;

Professional: id, tenantId, name, role, createdAt, updatedAt;

Appointment (Agenda): id, tenantId, petId, serviceId, professionalId, date, startTime, endTime, status, createdAt;

GroomingTicket / GroomingItem: id, tenantId, petId, tutorId, status, createdAt; itens: serviceId, name, price, qty;

Resource: id, tenantId, name, type, createdAt;

CheckIn: id, tenantId, petId, professionalId, checkInAt, checkOutAt, notes;

Configuration: key, value, tenantId; etc.

Atualizar migrations no Hub e no client-local. Adicionar pol√≠ticas RLS para as novas tabelas.

CRUD de Produtos e Estoque (6.2)

Client-local: criar m√≥dulo product com controller/DTO/service usando Prisma; endpoints: GET/POST/PATCH/DELETE em /products. Id√™ntico para inventory: endpoint para ajustar estoque (POST /inventory/adjust) e obter n√≠veis atuais (GET /inventory/:productId). Persistir em SQLite/SQLCipher.

Eventos: gerar event.product.upserted.v1 e event.product.deleted.v1 e armazenar em OutboxEvent.

Hub: criar endpoints de leitura (GET /tenants/:tenantId/products) e ingest√£o via SyncService para aplicar eventos.

CRUD de Vendas/PDV (6.3)

Client-local: m√≥dulo sales com endpoints POST /sales, GET /sales, GET /sales/:id. Salvar vendas e itens na base. Calcular total, registrar m√©todo de pagamento.

Gerar event.sale.created.v1 com itens e pagamento.

Hub: endpoint de leitura /tenants/:tenantId/sales e ingest√£o de vendas via sync.

Clientes (Tutores) e Pets (6.4)

CRUD completo para Customer e Pet no client-local. Liga√ß√£o tutor‚Üípet.

Eventos event.customer.upserted.v1, event.pet.upserted.v1.

Espelho no Hub para relat√≥rios e sincroniza√ß√£o.

Servi√ßos e Profissionais (6.5)

CRUD de Service (grooming, banho, consulta etc.) e Professional (veterin√°rios, groomers) no client-local.

Eventos correspondentes para sync. Hub espelha.

Agenda, Check‚Äëin e Recursos (6.6)

CRUD de Appointment com valida√ß√£o de choques de agenda.

Endpoint para check‚Äëin/check‚Äëout de pets (POST /checkin, POST /checkout) e armazenamento em CheckIn.

CRUD de Resource e vincula√ß√£o aos agendamentos se necess√°rio (sala, mesa).

Eventos event.appointment.created.v1, event.checkin.created.v1, etc.

Grooming (Banho e tosa) (6.7)

Completar m√≥dulo grooming: endpoints para abrir ticket, adicionar itens, atualizar status. Persistir ticket e itens.

Gerar event.grooming.ticket.created.v1 e event.grooming.ticket.updated.v1.

Hub espelha para relat√≥rios.

Configura√ß√µes e Dashboard (6.8) ‚úÖ CONCLU√çDO

‚úÖ CRUD simples para configura√ß√µes da loja: m√©todos de pagamento, impostos, temas, etc.

‚úÖ Endpoint /dashboard/summary que retorna m√©tricas (total de vendas, estoque baixo, agendas do dia).

Criar queries no Hub para relat√≥rios agregados.

Integra√ß√£o e Sa√∫de (6.9) ‚úÖ CONCLU√çDO

‚úÖ Atualizar o SyncAgent para lidar com todos os novos eventos, com schemas JSON validados por Ajv.

‚úÖ Ajustar sync.service.ts no Hub para aplicar eventos a cada tabela.

‚úÖ Melhorar /health/deps no client-local para checar SQLite e pingar Hub.

Documenta√ß√£o e Flags (6.10) ‚úÖ CONCLU√çDO

‚úÖ Atualizar .env.example adicionando MVP_POS_ENABLED, MVP_GROOMING_ENABLED, etc., caso deseje ativar m√≥dulos individualmente.

‚úÖ Implementar sistema de feature flags com endpoints REST (/feature-flags).

Atualizar README e Roadmap.

Atualizar cole√ß√£o Postman: novos grupos para Produtos, Estoque, Vendas, Clientes, Pets, Servi√ßos, Profissionais, Agenda, Grooming, Configura√ß√µes, Dashboard.

üìå Observa√ß√µes finais

Nenhum mock: todas as opera√ß√µes devem persistir em banco e gerar eventos.

Ajv validation: defina esquemas JSON para cada evento e valide no client-local antes de registrar no outbox.

Hub RLS: adicione pol√≠ticas para novas tabelas com tenant_id usando SET app.tenant_id (j√° implementado).

Incremental PRs: cada sub-etapa pode ser submetida em um PR, garantindo que testes passem e que a base n√£o quebre.

---

## Etapa 7 ‚Äî Sync Agent (Outbox/Inbox, Idempot√™ncia, Backoff, DLQ)

**Objetivo:** sincroniza√ß√£o autom√°tica, tolerante a falhas, invis√≠vel ao usu√°rio.
**Escopo**

* **Outbox**: fila local com `PENDING/SENT/ACKED`, `retry_at`, **backoff exponencial**, **DLQ**.
* **Inbox**: aplica√ß√£o de **comandos versionados** do Hub com **idempot√™ncia** (`commandId`).
* Schemas versionados em `client-local/src/sync/schemas/*`.
* Scheduler interno (cron) gerenciando sync/renova√ß√£o.
  **Flags**
* `SYNC_ENABLED=true` (padr√£o off at√© fechar testes).
  **Aceite**
* Sem internet: eventos acumulam; com internet: flush sem duplicar.
* Logs mostram reprocesso e DLQ quando extrapola tentativas.
  **Rollback**
* `SYNC_ENABLED=false` deixa tudo local at√© ajustar.

---

## Etapa 8 ‚Äî Pagamentos M√≠nimo Vi√°vel + Concilia√ß√£o Simples

**Objetivo:** registrar pagamentos (dinheiro, d√©bito, cr√©dito) e espelhar no Hub.
**Escopo**

* Client-local: m√≥dulo `payments` vinculado √† venda.
* Estender `event.sale.created.v1` com `payments[]`.
* Hub: ingest/armazenamento para relat√≥rios.
  **Flags**
* `PAYMENTS_ENABLED=true`.
  **Aceite**
* Vendas com pagamentos persistem local e sincronizam ao Hub quando online.
* Hub rejeita payload inv√°lido com erro claro (schema).
  **Rollback**
* `PAYMENTS_ENABLED=false` para operar sem pagamentos (somente registro de venda).

---

## Etapa 9 ‚Äî Frontend Integrado ao Client-Local + Status de Sync

**Objetivo:** trocar mocks por client-local e expor status na UI sem travar o uso.
**Escopo**

* `web`: `VITE_API_BASE=http://127.0.0.1:8081`.
* Rota `/setup`: usa `GET /install/status` e `POST /licensing/activate`.
* Integrar CRUDs do **POS/Inventory** via **React Query**.
* Banner/Badge de status: **Online/Offline/Syncing**.
* Loading/empty states decentes (sem UX travada).
  **Flags**
* `USE_LOCAL_API=true` (em dev d√° pra for√ßar mock com `false`).
  **Aceite**
* Usu√°rio final opera 100% via execut√°vel + UI; sem internet o sistema funciona (grace + local), com internet sincroniza.
  **Rollback**
* `USE_LOCAL_API=false` volta pro mock (apenas DEV).

---

## Etapa 10 ‚Äî Site Institucional + Postman E2E + Releases/Auto-update ‚úÖ

**Objetivo:** pacote completo para distribuir o SaaS.
**Escopo**

* ‚úÖ **Site institucional** (landing + docs de instala√ß√£o) no monorepo (`/site`), build est√°tico (Vite/Next est√°tico).
* ‚úÖ **Cole√ß√£o Postman** E2E: seed ‚Üí health ‚Üí ativar licen√ßa ‚Üí CRUD ‚Üí sync roundtrip.
* ‚úÖ **Auto-update** do client-local:

  * ‚úÖ Servi√ßo verifica vers√£o publicada (GitHub Releases/S3).
  * ‚úÖ Download silencioso + aplica√ß√£o + rollback se health falhar.
* ‚úÖ **CI/CD (GitHub Actions)**:

  * ‚úÖ Lint, typecheck, unit, integra√ß√£o (Hub com Postgres de servi√ßo).
  * ‚úÖ Build **bin√°rios** + **instaladores** (NSIS/pkgbuild/deb).
  * ‚úÖ Publica em **Releases** com changelog.
    **Flags**
* ‚úÖ `AUTO_UPDATE_ENABLED=true` (produ√ß√£o).
  **Aceite**
* ‚úÖ Instala√ß√£o fresca: setup de licen√ßa ‚Üí uso normal ‚Üí sync OK.
* ‚úÖ Update publicado ‚ûú cliente atualiza sozinho e mant√©m dados/servi√ßo.
  **Rollback**
* ‚úÖ Pipeline mant√©m **artefato anterior**; auto-update reverte quando health falha.

---

## Conven√ß√µes Gerais (valem em todas as etapas)

* **Feature flags** via `.env` com defaults seguros; em produ√ß√£o tudo que n√£o est√° pronto fica **OFF**.
* **Testes**: unit + integra√ß√£o onde mexer; E2E via Postman na Etapa 10.
* **Observabilidade** (ligar gradualmente): `/health`, `/health/deps`, logs JSON com `requestId`, `tenantId`, `deviceId`. M√©tricas no Hub (Prometheus).
* **Seguran√ßa**: nunca logar segredos. Tokens/keys sempre em keystore do SO.
* **Branches/PRs**:

  * Um PR por etapa (ou sub-etapa). Nome: `feat/etapa-X-*`.
  * Checklist no PR com crit√©rios de aceite.
  * Sem squash de features em PRs gigantes; preferir incrementos pequenos.

---

## Ordem de Merge (resumo)

1. **Etapa 1** ‚ûú 2 ‚ûú 3 ‚ûú 4 ‚ûú 5 (funda√ß√£o de seguran√ßa)
2. **Etapa 6** (POS local)
3. **Etapa 7** (Sync robusto)
4. **Etapa 8** (Pagamentos)
5. **Etapa 9** (Front integrado)
6. **Etapa 10** (Site + E2E + Releases/Auto-update)
